<?xml version="1.0" encoding="UTF-8"?>
<testsuites name="bun test" tests="224" assertions="345" failures="0" skipped="18" time="0.85324">
  <testsuite name="tests/utils.test.ts" tests="11" assertions="16" failures="0" skipped="0" time="0.028" hostname="faws-Mac-mini.local">
    <testcase name="returns null when API key is missing" classname="fetchGenerationCost &amp;gt; cost utils" time="0.000616" file="tests/utils.test.ts" assertions="1" />
    <testcase name="returns data on successful fetch" classname="fetchGenerationCost &amp;gt; cost utils" time="0.000535833" file="tests/utils.test.ts" assertions="1" />
    <testcase name="returns null on HTTP error" classname="fetchGenerationCost &amp;gt; cost utils" time="0.00018495800000000001" file="tests/utils.test.ts" assertions="1" />
    <testcase name="returns null on network error" classname="fetchGenerationCost &amp;gt; cost utils" time="0.0005085830000000001" file="tests/utils.test.ts" assertions="1" />
    <testcase name="returns null when API key is missing" classname="fetchCredits &amp;gt; cost utils" time="0.000014083" file="tests/utils.test.ts" assertions="1" />
    <testcase name="returns balance on successful fetch" classname="fetchCredits &amp;gt; cost utils" time="0.000374166" file="tests/utils.test.ts" assertions="1" />
    <testcase name="returns null on HTTP error" classname="fetchCredits &amp;gt; cost utils" time="0.000058917" file="tests/utils.test.ts" assertions="1" />
    <testcase name="returns empty result for empty array" classname="fetchAllGenerationCosts &amp;gt; cost utils" time="0.001471083" file="tests/utils.test.ts" assertions="3" />
    <testcase name="returns all results when available immediately" classname="fetchAllGenerationCosts &amp;gt; cost utils" time="0.000796333" file="tests/utils.test.ts" assertions="3" />
    <testcase name="adds to failed after max attempts" classname="fetchAllGenerationCosts &amp;gt; cost utils" time="0.02766325" file="tests/utils.test.ts" assertions="2" />
    <testcase name="sums total cost correctly" classname="fetchAllGenerationCosts &amp;gt; cost utils" time="0.0005838750000000001" file="tests/utils.test.ts" assertions="1" />
  </testsuite>
  <testsuite name="tests/db.test.ts" tests="49" assertions="75" failures="0" skipped="0" time="0.073" hostname="faws-Mac-mini.local">
    <testcase name="insertRun creates a new run" classname="run lifecycle &amp;gt; queries &amp;gt; db" time="0.003892958" file="tests/db.test.ts" assertions="2" />
    <testcase name="completeRun updates status and score" classname="run lifecycle &amp;gt; queries &amp;gt; db" time="0.004915" file="tests/db.test.ts" assertions="4" />
    <testcase name="completeRun without usage sets zeros" classname="run lifecycle &amp;gt; queries &amp;gt; db" time="0.007963458" file="tests/db.test.ts" assertions="2" />
    <testcase name="sets status to failed" classname="failRun &amp;gt; queries &amp;gt; db" time="0.008025084" file="tests/db.test.ts" assertions="1" />
    <testcase name="sets ended_at timestamp" classname="failRun &amp;gt; queries &amp;gt; db" time="0.008932583" file="tests/db.test.ts" assertions="1" />
    <testcase name="insertUsage stores token counts" classname="usage tracking &amp;gt; queries &amp;gt; db" time="0.003960584" file="tests/db.test.ts" assertions="1" />
    <testcase name="insertUsage without optional fields" classname="usage tracking &amp;gt; queries &amp;gt; db" time="0.00362475" file="tests/db.test.ts" assertions="1" />
    <testcase name="getRunUsage returns all usage records" classname="usage tracking &amp;gt; queries &amp;gt; db" time="0.000015792" file="tests/db.test.ts" assertions="1" />
    <testcase name="getRunTotalUsage sums tokens" classname="usage tracking &amp;gt; queries &amp;gt; db" time="0.00012545799999999998" file="tests/db.test.ts" assertions="3" />
    <testcase name="getRunTotalUsage for non-existent run" classname="usage tracking &amp;gt; queries &amp;gt; db" time="0.00006675000000000001" file="tests/db.test.ts" assertions="1" />
    <testcase name="insertModelRequest stores prompt" classname="model requests &amp;gt; queries &amp;gt; db" time="0.003565125" file="tests/db.test.ts" assertions="1" />
    <testcase name="insertModelRequest without system prompt" classname="model requests &amp;gt; queries &amp;gt; db" time="0.004017042" file="tests/db.test.ts" assertions="1" />
    <testcase name="getRunRequests returns all requests" classname="model requests &amp;gt; queries &amp;gt; db" time="0.000127375" file="tests/db.test.ts" assertions="2" />
    <testcase name="getRunRequests ordered by id" classname="model requests &amp;gt; queries &amp;gt; db" time="0.000048625" file="tests/db.test.ts" assertions="2" />
    <testcase name="insertModelOutput returns id" classname="model outputs &amp;gt; queries &amp;gt; db" time="0.000004417" file="tests/db.test.ts" assertions="1" />
    <testcase name="getRunModelOutputs returns outputs" classname="model outputs &amp;gt; queries &amp;gt; db" time="0.000159791" file="tests/db.test.ts" assertions="2" />
    <testcase name="getStepsByFinishReason filters correctly" classname="model outputs &amp;gt; queries &amp;gt; db" time="0.00043237500000000003" file="tests/db.test.ts" assertions="2" />
    <testcase name="insertModelOutput with minimal fields" classname="model outputs &amp;gt; queries &amp;gt; db" time="0.008258" file="tests/db.test.ts" assertions="1" />
    <testcase name="getReasoningParts returns parts for output" classname="reasoning parts &amp;gt; queries &amp;gt; db" time="0.000120667" file="tests/db.test.ts" assertions="1" />
    <testcase name="getReasoningParts ordered by part_index" classname="reasoning parts &amp;gt; queries &amp;gt; db" time="0.000003625" file="tests/db.test.ts" assertions="2" />
    <testcase name="searchReasoningParts finds matching text" classname="reasoning parts &amp;gt; queries &amp;gt; db" time="0.001871708" file="tests/db.test.ts" assertions="2" />
    <testcase name="searchReasoningParts returns empty for no match" classname="reasoning parts &amp;gt; queries &amp;gt; db" time="0.00017449999999999999" file="tests/db.test.ts" assertions="1" />
    <testcase name="searchReasoningParts case sensitive" classname="reasoning parts &amp;gt; queries &amp;gt; db" time="0.000078667" file="tests/db.test.ts" assertions="1" />
    <testcase name="returns all runs" classname="getAllRuns &amp;gt; queries &amp;gt; db" time="0.00034375" file="tests/db.test.ts" assertions="1" />
    <testcase name="ordered by started_at descending" classname="getAllRuns &amp;gt; queries &amp;gt; db" time="0.0000027090000000000002" file="tests/db.test.ts" assertions="1" />
    <testcase name="returns limited runs" classname="getRecentRuns &amp;gt; queries &amp;gt; db" time="0.000719625" file="tests/db.test.ts" assertions="1" />
    <testcase name="default limit is 10" classname="getRecentRuns &amp;gt; queries &amp;gt; db" time="0.000129625" file="tests/db.test.ts" assertions="1" />
    <testcase name="ordered by started_at descending" classname="getRecentRuns &amp;gt; queries &amp;gt; db" time="0.00010054100000000001" file="tests/db.test.ts" assertions="1" />
    <testcase name="insertStep returns step id" classname="steps and tool calls &amp;gt; queries &amp;gt; db" time="0.003960042" file="tests/db.test.ts" assertions="1" />
    <testcase name="insertStep without data" classname="steps and tool calls &amp;gt; queries &amp;gt; db" time="0.004081542" file="tests/db.test.ts" assertions="1" />
    <testcase name="getRunSteps ordered by step_number" classname="steps and tool calls &amp;gt; queries &amp;gt; db" time="0.004522125" file="tests/db.test.ts" assertions="3" />
    <testcase name="insertToolCall stores tool data" classname="steps and tool calls &amp;gt; queries &amp;gt; db" time="0.004723541" file="tests/db.test.ts" assertions="2" />
    <testcase name="insertToolCall without optional fields" classname="steps and tool calls &amp;gt; queries &amp;gt; db" time="0.003732834" file="tests/db.test.ts" assertions="1" />
    <testcase name="getRunToolCalls ordered by id" classname="steps and tool calls &amp;gt; queries &amp;gt; db" time="0.000127833" file="tests/db.test.ts" assertions="2" />
    <testcase name="returns undefined for non-existent run" classname="getRun &amp;gt; queries &amp;gt; db" time="0.00030975" file="tests/db.test.ts" assertions="1" />
    <testcase name="returns run with all fields" classname="getRun &amp;gt; queries &amp;gt; db" time="0.0037386249999999998" file="tests/db.test.ts" assertions="4" />
    <testcase name="run is created and found" classname="database operations &amp;gt; integration: DB -&amp;gt; Analyzer &amp;gt; db" time="0.000122167" file="tests/db.test.ts" assertions="2" />
    <testcase name="run has correct benchmark and model" classname="database operations &amp;gt; integration: DB -&amp;gt; Analyzer &amp;gt; db" time="0.000095417" file="tests/db.test.ts" assertions="2" />
    <testcase name="run status is completed" classname="database operations &amp;gt; integration: DB -&amp;gt; Analyzer &amp;gt; db" time="0.0000765" file="tests/db.test.ts" assertions="1" />
    <testcase name="run has final score" classname="database operations &amp;gt; integration: DB -&amp;gt; Analyzer &amp;gt; db" time="0.000084875" file="tests/db.test.ts" assertions="1" />
    <testcase name="all steps are saved" classname="database operations &amp;gt; integration: DB -&amp;gt; Analyzer &amp;gt; db" time="0.000204167" file="tests/db.test.ts" assertions="1" />
    <testcase name="steps have correct types in order" classname="database operations &amp;gt; integration: DB -&amp;gt; Analyzer &amp;gt; db" time="0.000004125" file="tests/db.test.ts" assertions="4" />
    <testcase name="tool call is saved" classname="database operations &amp;gt; integration: DB -&amp;gt; Analyzer &amp;gt; db" time="0.000036166999999999994" file="tests/db.test.ts" assertions="1" />
    <testcase name="tool call has correct data" classname="database operations &amp;gt; integration: DB -&amp;gt; Analyzer &amp;gt; db" time="0.000003875" file="tests/db.test.ts" assertions="1" />
    <testcase name="loads logs from database" classname="analyzer db loader &amp;gt; integration: DB -&amp;gt; Analyzer &amp;gt; db" time="0.000628084" file="tests/db.test.ts" assertions="1" />
    <testcase name="first log is start type" classname="analyzer db loader &amp;gt; integration: DB -&amp;gt; Analyzer &amp;gt; db" time="0.000059999999999999995" file="tests/db.test.ts" assertions="1" />
    <testcase name="last log is end type" classname="analyzer db loader &amp;gt; integration: DB -&amp;gt; Analyzer &amp;gt; db" time="0.000244125" file="tests/db.test.ts" assertions="1" />
    <testcase name="logs contain data fields" classname="analyzer db loader &amp;gt; integration: DB -&amp;gt; Analyzer &amp;gt; db" time="0.0000029169999999999998" file="tests/db.test.ts" assertions="1" />
    <testcase name="lists recent runs including test run" classname="analyzer db loader &amp;gt; integration: DB -&amp;gt; Analyzer &amp;gt; db" time="0.000455625" file="tests/db.test.ts" assertions="2" />
  </testsuite>
  <testsuite name="tests/engine.test.ts" tests="18" assertions="30" failures="0" skipped="0" time="0" hostname="faws-Mac-mini.local">
    <testcase name="returns state with correct initial values" classname="createInitialState &amp;gt; engine" time="0.000231375" file="tests/engine.test.ts" assertions="5" />
    <testcase name="deducts STEP_COST from score" classname="advanceStep &amp;gt; engine" time="0.000237" file="tests/engine.test.ts" assertions="1" />
    <testcase name="increments step counter" classname="advanceStep &amp;gt; engine" time="0.0000025" file="tests/engine.test.ts" assertions="3" />
    <testcase name="resets waitingForNextStep flag" classname="advanceStep &amp;gt; engine" time="0.000002167" file="tests/engine.test.ts" assertions="1" />
    <testcase name="adds event when cost is paid" classname="advanceStep &amp;gt; engine" time="0.000002291" file="tests/engine.test.ts" assertions="3" />
    <testcase name="returns step report with correct values" classname="advanceStep &amp;gt; engine" time="0.0000022499999999999996" file="tests/engine.test.ts" assertions="4" />
    <testcase name="increments failureCount when score is insufficient" classname="advanceStep &amp;gt; engine" time="0.000002375" file="tests/engine.test.ts" assertions="2" />
    <testcase name="resets failureCount to 0 when cost is paid" classname="advanceStep &amp;gt; engine" time="0.0000025829999999999997" file="tests/engine.test.ts" assertions="1" />
    <testcase name="returns false for fresh state" classname="isTerminated &amp;gt; engine" time="0.0000025" file="tests/engine.test.ts" assertions="1" />
    <testcase name="returns false when failureCount below threshold" classname="isTerminated &amp;gt; engine" time="0.0000022920000000000002" file="tests/engine.test.ts" assertions="1" />
    <testcase name="returns true when failureCount equals FAILURE_THRESHOLD" classname="isTerminated &amp;gt; engine" time="0.000002542" file="tests/engine.test.ts" assertions="1" />
    <testcase name="returns true when failureCount exceeds FAILURE_THRESHOLD" classname="isTerminated &amp;gt; engine" time="0.00000275" file="tests/engine.test.ts" assertions="1" />
    <testcase name="returns INITIAL_SCORE for fresh state" classname="calculateScore &amp;gt; engine" time="0" file="tests/engine.test.ts" assertions="1" />
    <testcase name="returns current score after modifications" classname="calculateScore &amp;gt; engine" time="0.0000025" file="tests/engine.test.ts" assertions="1" />
    <testcase name="returns zero when score is depleted" classname="calculateScore &amp;gt; engine" time="0.00000275" file="tests/engine.test.ts" assertions="1" />
    <testcase name="returns correct summary for fresh state" classname="getSimulationSummary &amp;gt; engine" time="0.000006042" file="tests/engine.test.ts" assertions="1" />
    <testcase name="returns correct summary after modifications" classname="getSimulationSummary &amp;gt; engine" time="0.00000325" file="tests/engine.test.ts" assertions="1" />
    <testcase name="reflects terminated state" classname="getSimulationSummary &amp;gt; engine" time="0.0000025" file="tests/engine.test.ts" assertions="1" />
  </testsuite>
  <testsuite name="tests/logging.test.ts" tests="37" assertions="52" failures="0" skipped="0" time="0" hostname="faws-Mac-mini.local">
    <testcase name="validates correct start log" classname="StartLog &amp;gt; schemas &amp;gt; logging" time="0.000814834" file="tests/logging.test.ts" assertions="1" />
    <testcase name="requires benchmark field as string" classname="StartLog &amp;gt; schemas &amp;gt; logging" time="0.00008520899999999999" file="tests/logging.test.ts" assertions="1" />
    <testcase name="requires model field" classname="StartLog &amp;gt; schemas &amp;gt; logging" time="0.0000028340000000000003" file="tests/logging.test.ts" assertions="1" />
    <testcase name="requires type literal &apos;start&apos;" classname="StartLog &amp;gt; schemas &amp;gt; logging" time="0.000002375" file="tests/logging.test.ts" assertions="1" />
    <testcase name="validates correct end log" classname="EndLog &amp;gt; schemas &amp;gt; logging" time="0.000324459" file="tests/logging.test.ts" assertions="1" />
    <testcase name="requires type literal &apos;end&apos;" classname="EndLog &amp;gt; schemas &amp;gt; logging" time="0.000019625" file="tests/logging.test.ts" assertions="1" />
    <testcase name="validates correct thinking log" classname="ThinkingLog &amp;gt; schemas &amp;gt; logging" time="0.000038125" file="tests/logging.test.ts" assertions="1" />
    <testcase name="requires msg field" classname="ThinkingLog &amp;gt; schemas &amp;gt; logging" time="0.000023666" file="tests/logging.test.ts" assertions="1" />
    <testcase name="validates correct tool log" classname="ToolLog &amp;gt; schemas &amp;gt; logging" time="0.000155" file="tests/logging.test.ts" assertions="1" />
    <testcase name="requires tool name" classname="ToolLog &amp;gt; schemas &amp;gt; logging" time="0.000010041" file="tests/logging.test.ts" assertions="1" />
    <testcase name="accepts any input/output types" classname="ToolLog &amp;gt; schemas &amp;gt; logging" time="0.00000325" file="tests/logging.test.ts" assertions="1" />
    <testcase name="validates correct transition log" classname="TransitionLog &amp;gt; schemas &amp;gt; logging" time="0.000189417" file="tests/logging.test.ts" assertions="1" />
    <testcase name="requires from and to fields" classname="TransitionLog &amp;gt; schemas &amp;gt; logging" time="0.000004042" file="tests/logging.test.ts" assertions="1" />
    <testcase name="optional balance, rating, fuel fields" classname="TransitionLog &amp;gt; schemas &amp;gt; logging" time="0.000003209" file="tests/logging.test.ts" assertions="1" />
    <testcase name="validates numeric optional fields" classname="TransitionLog &amp;gt; schemas &amp;gt; logging" time="0.0000035" file="tests/logging.test.ts" assertions="1" />
    <testcase name="validates correct progress log" classname="ProgressLog &amp;gt; schemas &amp;gt; logging" time="0.00033075" file="tests/logging.test.ts" assertions="1" />
    <testcase name="requires current and total" classname="ProgressLog &amp;gt; schemas &amp;gt; logging" time="0.0000037499999999999997" file="tests/logging.test.ts" assertions="1" />
    <testcase name="label is optional" classname="ProgressLog &amp;gt; schemas &amp;gt; logging" time="0.000010416" file="tests/logging.test.ts" assertions="1" />
    <testcase name="validates correct state log" classname="StateLog &amp;gt; schemas &amp;gt; logging" time="0.000128709" file="tests/logging.test.ts" assertions="1" />
    <testcase name="allows extra fields via passthrough" classname="StateLog &amp;gt; schemas &amp;gt; logging" time="0.000004" file="tests/logging.test.ts" assertions="1" />
    <testcase name="requires label field" classname="StateLog &amp;gt; schemas &amp;gt; logging" time="0.000025416000000000002" file="tests/logging.test.ts" assertions="1" />
    <testcase name="validates correct usage log" classname="UsageLog &amp;gt; schemas &amp;gt; logging" time="0.000078083" file="tests/logging.test.ts" assertions="1" />
    <testcase name="all token fields are optional" classname="UsageLog &amp;gt; schemas &amp;gt; logging" time="0.000003875" file="tests/logging.test.ts" assertions="1" />
    <testcase name="validates token detail structures" classname="UsageLog &amp;gt; schemas &amp;gt; logging" time="0.000013624999999999999" file="tests/logging.test.ts" assertions="2" />
    <testcase name="discriminates by type field" classname="BenchmarkLogEntry &amp;gt; schemas &amp;gt; logging" time="0.00019766600000000001" file="tests/logging.test.ts" assertions="8" />
    <testcase name="rejects invalid type" classname="BenchmarkLogEntry &amp;gt; schemas &amp;gt; logging" time="0.000007" file="tests/logging.test.ts" assertions="1" />
    <testcase name="rejects missing type field" classname="BenchmarkLogEntry &amp;gt; schemas &amp;gt; logging" time="0.000017624999999999998" file="tests/logging.test.ts" assertions="1" />
    <testcase name="parses valid NDJSON" classname="parseLogFile &amp;gt; logging" time="0.000019792" file="tests/logging.test.ts" assertions="3" />
    <testcase name="handles empty lines" classname="parseLogFile &amp;gt; logging" time="0.000002375" file="tests/logging.test.ts" assertions="1" />
    <testcase name="throws on invalid JSON" classname="parseLogFile &amp;gt; logging" time="0.000238291" file="tests/logging.test.ts" assertions="1" />
    <testcase name="throws on schema mismatch" classname="parseLogFile &amp;gt; logging" time="0.000003042" file="tests/logging.test.ts" assertions="1" />
    <testcase name="handles empty file" classname="parseLogFile &amp;gt; logging" time="0.0000020830000000000002" file="tests/logging.test.ts" assertions="1" />
    <testcase name="returns success with valid logs" classname="safeParseLogFile &amp;gt; logging" time="0.000041750000000000005" file="tests/logging.test.ts" assertions="2" />
    <testcase name="returns errors for invalid entries" classname="safeParseLogFile &amp;gt; logging" time="0.000022290999999999997" file="tests/logging.test.ts" assertions="2" />
    <testcase name="skips non-JSON lines" classname="safeParseLogFile &amp;gt; logging" time="0.000029083000000000003" file="tests/logging.test.ts" assertions="2" />
    <testcase name="handles empty content" classname="safeParseLogFile &amp;gt; logging" time="0.00001175" file="tests/logging.test.ts" assertions="2" />
    <testcase name="collects all validation errors" classname="safeParseLogFile &amp;gt; logging" time="0.000017916999999999998" file="tests/logging.test.ts" assertions="2" />
  </testsuite>
  <testsuite name="tests/analyzer.test.ts" tests="50" assertions="96" failures="0" skipped="0" time="0.026" hostname="faws-Mac-mini.local">
    <testcase name="returns empty array for non-existent run" classname="loadLogsFromDb &amp;gt; db-loader &amp;gt; analyzer" time="0.00015729199999999998" file="tests/analyzer.test.ts" assertions="1" />
    <testcase name="loads logs for existing run" classname="loadLogsFromDb &amp;gt; db-loader &amp;gt; analyzer" time="0.000071208" file="tests/analyzer.test.ts" assertions="1" />
    <testcase name="returns correct number of logs" classname="loadLogsFromDb &amp;gt; db-loader &amp;gt; analyzer" time="0.000085666" file="tests/analyzer.test.ts" assertions="1" />
    <testcase name="first log is start type" classname="loadLogsFromDb &amp;gt; db-loader &amp;gt; analyzer" time="0.000003125" file="tests/analyzer.test.ts" assertions="1" />
    <testcase name="last log is end type" classname="loadLogsFromDb &amp;gt; db-loader &amp;gt; analyzer" time="0.000055584" file="tests/analyzer.test.ts" assertions="1" />
    <testcase name="logs contain parsed data" classname="loadLogsFromDb &amp;gt; db-loader &amp;gt; analyzer" time="0.000003459" file="tests/analyzer.test.ts" assertions="1" />
    <testcase name="logs have time field" classname="loadLogsFromDb &amp;gt; db-loader &amp;gt; analyzer" time="0.000074125" file="tests/analyzer.test.ts" assertions="1" />
    <testcase name="returns array" classname="listRuns &amp;gt; db-loader &amp;gt; analyzer" time="0.000045082999999999995" file="tests/analyzer.test.ts" assertions="1" />
    <testcase name="respects limit parameter" classname="listRuns &amp;gt; db-loader &amp;gt; analyzer" time="0.000003458" file="tests/analyzer.test.ts" assertions="1" />
    <testcase name="includes test run" classname="listRuns &amp;gt; db-loader &amp;gt; analyzer" time="0.00032083299999999997" file="tests/analyzer.test.ts" assertions="1" />
    <testcase name="returns runs with expected fields" classname="listRuns &amp;gt; db-loader &amp;gt; analyzer" time="0.00032370799999999997" file="tests/analyzer.test.ts" assertions="3" />
    <testcase name="returns undefined for non-existent run" classname="getRunMetadata &amp;gt; db-loader &amp;gt; analyzer" time="0.00009049999999999999" file="tests/analyzer.test.ts" assertions="1" />
    <testcase name="returns run for existing run" classname="getRunMetadata &amp;gt; db-loader &amp;gt; analyzer" time="0.00025804100000000003" file="tests/analyzer.test.ts" assertions="2" />
    <testcase name="returns completed status" classname="getRunMetadata &amp;gt; db-loader &amp;gt; analyzer" time="0.000131959" file="tests/analyzer.test.ts" assertions="1" />
    <testcase name="returns final score" classname="getRunMetadata &amp;gt; db-loader &amp;gt; analyzer" time="0.00011870799999999999" file="tests/analyzer.test.ts" assertions="1" />
    <testcase name="returns benchmark name" classname="analyzeQuickFromDb &amp;gt; analyzer" time="0.000314083" file="tests/analyzer.test.ts" assertions="1" />
    <testcase name="returns model name" classname="analyzeQuickFromDb &amp;gt; analyzer" time="0.000046542" file="tests/analyzer.test.ts" assertions="1" />
    <testcase name="calculates duration" classname="analyzeQuickFromDb &amp;gt; analyzer" time="0.000002875" file="tests/analyzer.test.ts" assertions="1" />
    <testcase name="counts total steps" classname="analyzeQuickFromDb &amp;gt; analyzer" time="0.000002375" file="tests/analyzer.test.ts" assertions="1" />
    <testcase name="counts tool usage" classname="analyzeQuickFromDb &amp;gt; analyzer" time="0.00009079099999999999" file="tests/analyzer.test.ts" assertions="1" />
    <testcase name="sorts tool usage by count" classname="analyzeQuickFromDb &amp;gt; analyzer" time="0.000095875" file="tests/analyzer.test.ts" assertions="4" />
    <testcase name="handles non-existent run" classname="analyzeQuickFromDb &amp;gt; analyzer" time="0.000009125" file="tests/analyzer.test.ts" assertions="3" />
    <testcase name="handles run without tool calls" classname="analyzeQuickFromDb &amp;gt; analyzer" time="0.012095667000000001" file="tests/analyzer.test.ts" assertions="1" />
    <testcase name="handles incomplete run (no end)" classname="analyzeQuickFromDb &amp;gt; analyzer" time="0.012478958" file="tests/analyzer.test.ts" assertions="2" />
    <testcase name="counts tool invocations correctly" classname="getToolUsageTool &amp;gt; tools &amp;gt; analyzer" time="0" file="tests/analyzer.test.ts" assertions="2" />
    <testcase name="calculates percentages correctly" classname="getToolUsageTool &amp;gt; tools &amp;gt; analyzer" time="0.000003417" file="tests/analyzer.test.ts" assertions="1" />
    <testcase name="sorts by count descending" classname="getToolUsageTool &amp;gt; tools &amp;gt; analyzer" time="0.0000025839999999999997" file="tests/analyzer.test.ts" assertions="2" />
    <testcase name="handles empty logs" classname="getToolUsageTool &amp;gt; tools &amp;gt; analyzer" time="0" file="tests/analyzer.test.ts" assertions="2" />
    <testcase name="calculates duration from start/end" classname="getDurationTool &amp;gt; tools &amp;gt; analyzer" time="0.000049083000000000004" file="tests/analyzer.test.ts" assertions="3" />
    <testcase name="returns zero for missing start marker" classname="getDurationTool &amp;gt; tools &amp;gt; analyzer" time="0.000018917" file="tests/analyzer.test.ts" assertions="2" />
    <testcase name="returns zero for missing end marker" classname="getDurationTool &amp;gt; tools &amp;gt; analyzer" time="0.000003458" file="tests/analyzer.test.ts" assertions="2" />
    <testcase name="extracts thinking blocks" classname="getThinkingTool &amp;gt; tools &amp;gt; analyzer" time="0.000040792000000000005" file="tests/analyzer.test.ts" assertions="3" />
    <testcase name="respects limit parameter" classname="getThinkingTool &amp;gt; tools &amp;gt; analyzer" time="0.000003333" file="tests/analyzer.test.ts" assertions="2" />
    <testcase name="returns chronological events" classname="getTimelineTool &amp;gt; tools &amp;gt; analyzer" time="0.000018958" file="tests/analyzer.test.ts" assertions="3" />
    <testcase name="filters by type" classname="getTimelineTool &amp;gt; tools &amp;gt; analyzer" time="0.000028125" file="tests/analyzer.test.ts" assertions="4" />
    <testcase name="respects limit parameter" classname="getTimelineTool &amp;gt; tools &amp;gt; analyzer" time="0.000008999999999999999" file="tests/analyzer.test.ts" assertions="1" />
    <testcase name="aggregates benchmark metadata" classname="getSummaryTool &amp;gt; tools &amp;gt; analyzer" time="0.000003166" file="tests/analyzer.test.ts" assertions="3" />
    <testcase name="counts entries correctly" classname="getSummaryTool &amp;gt; tools &amp;gt; analyzer" time="0.0000025" file="tests/analyzer.test.ts" assertions="4" />
    <testcase name="finds matching patterns" classname="searchLogsTool &amp;gt; tools &amp;gt; analyzer" time="0.00008575000000000001" file="tests/analyzer.test.ts" assertions="1" />
    <testcase name="case insensitive search" classname="searchLogsTool &amp;gt; tools &amp;gt; analyzer" time="0.000009041999999999999" file="tests/analyzer.test.ts" assertions="1" />
    <testcase name="returns empty for no matches" classname="searchLogsTool &amp;gt; tools &amp;gt; analyzer" time="0.000003167" file="tests/analyzer.test.ts" assertions="2" />
    <testcase name="appends to findings array" classname="recordFindingTool &amp;gt; tools &amp;gt; analyzer" time="0.0000025" file="tests/analyzer.test.ts" assertions="2" />
    <testcase name="includes severity and category" classname="recordFindingTool &amp;gt; tools &amp;gt; analyzer" time="0.0000026250000000000003" file="tests/analyzer.test.ts" assertions="2" />
    <testcase name="returns recorded status and count" classname="recordFindingTool &amp;gt; tools &amp;gt; analyzer" time="0.0000025829999999999997" file="tests/analyzer.test.ts" assertions="2" />
    <testcase name="extracts benchmark and model from start log" classname="analyzeQuick &amp;gt; file-based analysis &amp;gt; analyzer" time="0.00223875" file="tests/analyzer.test.ts" assertions="4" />
    <testcase name="counts tool usage correctly" classname="analyzeQuick &amp;gt; file-based analysis &amp;gt; analyzer" time="0.00039354099999999996" file="tests/analyzer.test.ts" assertions="5" />
    <testcase name="handles logs without start/end (zero duration)" classname="analyzeQuick &amp;gt; file-based analysis &amp;gt; analyzer" time="0.000265792" file="tests/analyzer.test.ts" assertions="3" />
    <testcase name="handles empty tool usage" classname="analyzeQuick &amp;gt; file-based analysis &amp;gt; analyzer" time="0.000211625" file="tests/analyzer.test.ts" assertions="1" />
    <testcase name="creates agent and state from DB run" classname="createAnalyzerAgentFromDb &amp;gt; file-based analysis &amp;gt; analyzer" time="0.000314334" file="tests/analyzer.test.ts" assertions="5" />
    <testcase name="creates agent with custom model" classname="createAnalyzerAgentFromDb &amp;gt; file-based analysis &amp;gt; analyzer" time="0.00002525" file="tests/analyzer.test.ts" assertions="1" />
  </testsuite>
  <testsuite name="tests/agent.test.ts" tests="6" assertions="22" failures="0" skipped="0" time="0.14" hostname="faws-Mac-mini.local">
    <testcase name="exports core tools" classname="tools export &amp;gt; agent" time="0.00002575" file="tests/agent.test.ts" assertions="4" />
    <testcase name="exports memory tools" classname="tools export &amp;gt; agent" time="0.00001475" file="tests/agent.test.ts" assertions="6" />
    <testcase name="creates agent with default in-memory tools" classname="createAgent &amp;gt; agent" time="0.002584209" file="tests/agent.test.ts" assertions="4" />
    <testcase name="creates agent with AgentFS when useAgentFS is true" classname="createAgent &amp;gt; agent" time="0.08062825" file="tests/agent.test.ts" assertions="2" />
    <testcase name="initializes AgentFS with custom agentId" classname="createAgent &amp;gt; agent" time="0.058545042000000005" file="tests/agent.test.ts" assertions="1" />
    <testcase name="initializes fresh state" classname="createAgent &amp;gt; agent" time="0.000561959" file="tests/agent.test.ts" assertions="5" />
  </testsuite>
  <testsuite name="tests/tools.test.ts" tests="36" assertions="54" failures="0" skipped="1" time="0.167" hostname="faws-Mac-mini.local">
    <testcase name="sets waitingForNextStep flag" classname="waitForNextStepTool &amp;gt; tools" time="0.000035375" file="tests/tools.test.ts" assertions="2" />
    <testcase name="returns current step" classname="waitForNextStepTool &amp;gt; tools" time="0.000008167" file="tests/tools.test.ts" assertions="1" />
    <testcase name="returns success message" classname="waitForNextStepTool &amp;gt; tools" time="0.000002417" file="tests/tools.test.ts" assertions="2" />
    <testcase name="returns greeting with name" classname="helloTool &amp;gt; tools" time="0.0000024160000000000002" file="tests/tools.test.ts" assertions="1" />
    <testcase name="enthusiastic mode adds exclamation" classname="helloTool &amp;gt; tools" time="0.0000025829999999999997" file="tests/tools.test.ts" assertions="1" />
    <testcase name="includes current step" classname="helloTool &amp;gt; tools" time="0" file="tests/tools.test.ts" assertions="1" />
    <testcase name="includes timestamp" classname="helloTool &amp;gt; tools" time="0.000016167" file="tests/tools.test.ts" assertions="2" />
    <testcase name="handles missing state gracefully" classname="helloTool &amp;gt; tools" time="0.000013959" file="tests/tools.test.ts" assertions="1" />
    <testcase name="returns empty content initially" classname="readScratchpadTool &amp;gt; memory tools &amp;gt; tools" time="0.00000825" file="tests/tools.test.ts" assertions="2" />
    <testcase name="returns content after write" classname="readScratchpadTool &amp;gt; memory tools &amp;gt; tools" time="0" file="tests/tools.test.ts" assertions="1" />
    <testcase name="overwrites content by default" classname="writeScratchpadTool &amp;gt; memory tools &amp;gt; tools" time="0.000030208" file="tests/tools.test.ts" assertions="1" />
    <testcase name="appends when flagged" classname="writeScratchpadTool &amp;gt; memory tools &amp;gt; tools" time="0.000003792" file="tests/tools.test.ts" assertions="1" />
    <testcase name="returns success and new length" classname="writeScratchpadTool &amp;gt; memory tools &amp;gt; tools" time="0.0000035" file="tests/tools.test.ts" assertions="2" />
    <testcase name="stores value" classname="kvSetTool &amp;gt; memory tools &amp;gt; tools" time="0.000003708" file="tests/tools.test.ts" assertions="1" />
    <testcase name="returns overwritten status for new key" classname="kvSetTool &amp;gt; memory tools &amp;gt; tools" time="0.000003125" file="tests/tools.test.ts" assertions="1" />
    <testcase name="returns overwritten status for existing key" classname="kvSetTool &amp;gt; memory tools &amp;gt; tools" time="0" file="tests/tools.test.ts" assertions="1" />
    <testcase name="retrieves existing value" classname="kvGetTool &amp;gt; memory tools &amp;gt; tools" time="0.000003375" file="tests/tools.test.ts" assertions="2" />
    <testcase name="returns not found for missing key" classname="kvGetTool &amp;gt; memory tools &amp;gt; tools" time="0.000009667" file="tests/tools.test.ts" assertions="2" />
    <testcase name="removes existing key" classname="kvDeleteTool &amp;gt; memory tools &amp;gt; tools" time="0.000004875" file="tests/tools.test.ts" assertions="1" />
    <testcase name="returns success for existing key" classname="kvDeleteTool &amp;gt; memory tools &amp;gt; tools" time="0.000002541" file="tests/tools.test.ts" assertions="1" />
    <testcase name="returns failure for missing key" classname="kvDeleteTool &amp;gt; memory tools &amp;gt; tools" time="0.00000275" file="tests/tools.test.ts" assertions="1" />
    <testcase name="returns empty list initially" classname="kvListTool &amp;gt; memory tools &amp;gt; tools" time="0.000015915999999999998" file="tests/tools.test.ts" assertions="2" />
    <testcase name="returns all keys" classname="kvListTool &amp;gt; memory tools &amp;gt; tools" time="0.0000029580000000000003" file="tests/tools.test.ts" assertions="4" />
    <testcase name="returns current score" classname="getScoreTool &amp;gt; score tools &amp;gt; tools" time="0.0000024160000000000002" file="tests/tools.test.ts" assertions="1" />
    <testcase name="returns empty events initially" classname="getScoreTool &amp;gt; score tools &amp;gt; tools" time="0.0000025" file="tests/tools.test.ts" assertions="1" />
    <testcase name="returns recent events" classname="getScoreTool &amp;gt; score tools &amp;gt; tools" time="0.000002666" file="tests/tools.test.ts" assertions="1" />
    <testcase name="respects limit parameter" classname="getScoreTool &amp;gt; score tools &amp;gt; tools" time="0.000006416" file="tests/tools.test.ts" assertions="1" />
    <testcase name="increases score with positive delta" classname="adjustScoreTool &amp;gt; score tools &amp;gt; tools" time="0.0000025" file="tests/tools.test.ts" assertions="1" />
    <testcase name="decreases score with negative delta" classname="adjustScoreTool &amp;gt; score tools &amp;gt; tools" time="0.0000027090000000000002" file="tests/tools.test.ts" assertions="1" />
    <testcase name="adds event to history" classname="adjustScoreTool &amp;gt; score tools &amp;gt; tools" time="0.000002666" file="tests/tools.test.ts" assertions="2" />
    <testcase name="event has correct fields" classname="adjustScoreTool &amp;gt; score tools &amp;gt; tools" time="0.0000024589999999999997" file="tests/tools.test.ts" assertions="5" />
    <testcase name="returns success and new score" classname="adjustScoreTool &amp;gt; score tools &amp;gt; tools" time="0.000002541" file="tests/tools.test.ts" assertions="2" />
    <testcase name="handles zero delta" classname="adjustScoreTool &amp;gt; score tools &amp;gt; tools" time="0.0000025839999999999997" file="tests/tools.test.ts" assertions="1" />
    <testcase name="creates agent with agentfs tools (ephemeral)" classname="agentfs &amp;gt; tools" time="0" file="tests/tools.test.ts" assertions="0">
      <skipped />
    </testcase>
    <testcase name="agentfs kv operations work" classname="agentfs &amp;gt; tools" time="0.069708334" file="tests/tools.test.ts" assertions="2" />
    <testcase name="agentfs fs operations work" classname="agentfs &amp;gt; tools" time="0.09880108300000001" file="tests/tools.test.ts" assertions="2" />
  </testsuite>
  <testsuite name="tests/workflows.test.ts" tests="17" assertions="0" failures="0" skipped="17" time="0" hostname="faws-Mac-mini.local">
    <testcase name="returns defined result" classname="benchmark result &amp;gt; runBenchmark (e2e) &amp;gt; workflows" time="0" file="tests/workflows.test.ts" assertions="0">
      <skipped />
    </testcase>
    <testcase name="has runId" classname="benchmark result &amp;gt; runBenchmark (e2e) &amp;gt; workflows" time="0" file="tests/workflows.test.ts" assertions="0">
      <skipped />
    </testcase>
    <testcase name="has numeric score" classname="benchmark result &amp;gt; runBenchmark (e2e) &amp;gt; workflows" time="0" file="tests/workflows.test.ts" assertions="0">
      <skipped />
    </testcase>
    <testcase name="has numeric finalStep" classname="benchmark result &amp;gt; runBenchmark (e2e) &amp;gt; workflows" time="0" file="tests/workflows.test.ts" assertions="0">
      <skipped />
    </testcase>
    <testcase name="has elapsed time" classname="benchmark result &amp;gt; runBenchmark (e2e) &amp;gt; workflows" time="0" file="tests/workflows.test.ts" assertions="0">
      <skipped />
    </testcase>
    <testcase name="has timestamps" classname="benchmark result &amp;gt; runBenchmark (e2e) &amp;gt; workflows" time="0" file="tests/workflows.test.ts" assertions="0">
      <skipped />
    </testcase>
    <testcase name="has model identifier" classname="benchmark result &amp;gt; runBenchmark (e2e) &amp;gt; workflows" time="0" file="tests/workflows.test.ts" assertions="0">
      <skipped />
    </testcase>
    <testcase name="has step log" classname="benchmark result &amp;gt; runBenchmark (e2e) &amp;gt; workflows" time="0" file="tests/workflows.test.ts" assertions="0">
      <skipped />
    </testcase>
    <testcase name="run is persisted to database" classname="database persistence &amp;gt; runBenchmark (e2e) &amp;gt; workflows" time="0" file="tests/workflows.test.ts" assertions="0">
      <skipped />
    </testcase>
    <testcase name="run status is completed" classname="database persistence &amp;gt; runBenchmark (e2e) &amp;gt; workflows" time="0" file="tests/workflows.test.ts" assertions="0">
      <skipped />
    </testcase>
    <testcase name="final score matches result" classname="database persistence &amp;gt; runBenchmark (e2e) &amp;gt; workflows" time="0" file="tests/workflows.test.ts" assertions="0">
      <skipped />
    </testcase>
    <testcase name="benchmark name is recorded" classname="database persistence &amp;gt; runBenchmark (e2e) &amp;gt; workflows" time="0" file="tests/workflows.test.ts" assertions="0">
      <skipped />
    </testcase>
    <testcase name="model is recorded" classname="database persistence &amp;gt; runBenchmark (e2e) &amp;gt; workflows" time="0" file="tests/workflows.test.ts" assertions="0">
      <skipped />
    </testcase>
    <testcase name="steps are recorded" classname="steps and tool calls &amp;gt; runBenchmark (e2e) &amp;gt; workflows" time="0" file="tests/workflows.test.ts" assertions="0">
      <skipped />
    </testcase>
    <testcase name="tool calls are recorded" classname="steps and tool calls &amp;gt; runBenchmark (e2e) &amp;gt; workflows" time="0" file="tests/workflows.test.ts" assertions="0">
      <skipped />
    </testcase>
    <testcase name="tracks input tokens" classname="token tracking &amp;gt; runBenchmark (e2e) &amp;gt; workflows" time="0" file="tests/workflows.test.ts" assertions="0">
      <skipped />
    </testcase>
    <testcase name="tracks output tokens" classname="token tracking &amp;gt; runBenchmark (e2e) &amp;gt; workflows" time="0" file="tests/workflows.test.ts" assertions="0">
      <skipped />
    </testcase>
  </testsuite>
</testsuites>
